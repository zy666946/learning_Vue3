<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <script src="/vue3.js"></script>
</head>

<body>
  <div id="app">

  </div>
  <template id="myApp">
    有缓存，调用多次也只计算一次
    <hr>
    {{name}}
    <br>
    <button @click="reName='zhang yu'">reName</button>
  </template>
  <script>
    const app = {
      template: '#myApp',
      data: () => {
        return {
          firstName: 'zhang',
          lastName: 'yu'
        }
      },
      methods: {

      },
      computed: {
        //常规用法，直接赋值为方法
        name: function () {
          return this.firstName + ' ' + this.lastName
        },
        //高级用法（自定义配置），赋值为一个对象
        reName: {
          //被调用时返回
          get: function () {
            return this.lastName + ' ' + this.firstName
          },
          //被赋值时触发，执行回调函数触发get方法重新计算
          set: function (newValue) {
            [this.lastName, this.firstName] = [...newValue.split(' ')]
          }
        }
      }
    }
    Vue.createApp(app).mount('#app')
  </script>


</body>

</html>